# Milestone 4 Report

UW-Madison xDD and COSMOS capabilities have been improved and extended to accommodate the needs of ASKE team members. Our focus continues to be on providing dependable, scalable services oriented around text, tables, figures and equations in scientific publications. Below we briefly summarize Milestone achievements and other advances made since [Milestone 2](https://github.com/UW-COSMOS/project-docs/blob/master/presentations_reports/phase3/milestone_2_report.md) report (February). For additional summary of deliverables and timelines see our [Phase 3 Summary](https://github.com/UW-COSMOS/project-docs/tree/master/presentations_reports/phase3).

## Improvements to xDD and COSMOS in Reporting Period
**xDD infrastructure.** We have made improvements to the xDD "set" generation and processing system. Document sets define collections of publications that are identified on the basis of their content, journal or other criteria to be relevant to a given research problem. The creation of a set defines the corpus over which the COSMOS pipeline is deployed and for which embedding models are generated. The xDD corpus also grew by some 200K documents, to over 13.5M full text PDFs.

**PubMed Abstracts.** At the request of ASKE collaborators we have incorporated all PubMed abstracts into xDD. These abstracts are indexed discoverable via the xDD API. Parameters have been added that allow specification of corpus: (https://xdd.wisc.edu/api/articles?term=remdesivir&corpus=pubmed_abstracts&max=10). Abstracts are pre-labled with EMMAA statements and Mitre druglist entities. 

**Updated xdd-Covid-19 set.** Refined definition of COVID-19 xDD document set based on EMMAA, CORD19 and full-text content and reprocessed this corpus with all COSMOS and trained embedding model tools.

**Updated COSMOS pipleline.** We released another major update to the COSMOS pipeline that included a retrained model (using additional annotations over the COVID19 set), bug fixes and general improvements. Several additions and improvements were also made to the COSMOS API, including document-level summaries). This release was merged into the master branch of [COSMOS](https://github.com/UW-COSMOS/Cosmos) prior to running the pipeline over the updated xDD COVID-19 set.

**COSMOS image resolution.** To improve the performance of downstream user applications, we introduced image scaling to the COSMOS API. The default response (i.e., no parameter fro image resolution specified) is to return compressed jpg version of table, figure, and equation elements that are suitable for most scree-based display of information. Optionally, users my request thumbnails or the full PNG version of the extracted images

**COSMOS API Key Implementation.** To allow for controlled distribution of full image content from publications we implemented an API key-based mechansism for image distribution from COSMOS and distributed a key to ASKE team members.

**Enhanced Table/Figure Entity Linking.** We made significant progress towards incorporating document-level entity linking bewteen figure/table/equation elements and the full-text descriptions of those objects. The objective is enhance context and improve retrieval for these objects using the extended verbal descriptions of their contents that is provided by the documents (e.g., text in methods sections describing protcols for generating data in a table, the significance of which is discussed in the discussion section). This capbility is in beta and we anticipate final release in the next reporting period.

**Embeddings over Figures/Tables.** We trained text embedding models over the content of Figures and Tables in the COSMOS xDD COVID19 set and exposed the results via an API endpoint (currently in beta). The objective is to allow tables and figures to be retrieved and analyzed using text embeddings. A preliminary trained model is currently avaialable and under testing. We anticipate making this API endpoint live in the next reporting period. 

**Marius: learning graph embeddings.** Marius is a system for scaling modern AI models to billion-edge scale graphs. Modern AI and specifically artificial neural networks have revolutionized perception, analytics, and mission-critical decision making. Yet, the use of artificial neural networks over large-scale sparse structured data has been a key challenge due to the cost of data movement during training. Marius attacks the bottleneck of data movement via a novel data flow architecture that maximizes resource utilization of the entire memory hierarchy (including disk, CPU, and GPU memory). This architecture allows Marius to be up to 10x faster than state-of-the-art industrial systems and unlocks training over graphs with more than a billion edges and 550GB of total parameters on a single machine. We hope to deploy Marius over the xDD COVID-19 set in the coming reporting periods. Currently, manuscripts describing the pipeline and its performance are under review and available as a [preprint](https://arxiv.org/abs/2101.08358).
